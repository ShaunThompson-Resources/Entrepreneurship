<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Business Model Canvas - Mobile</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: 80px;
        }
        
        .header {
            background: linear-gradient(to right, #3B82F6, #60A5FA);
            color: white;
            padding: 16px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .header h1 {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }
        
        .main-content {
            padding: 16px;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 24px;
            overflow: hidden;
        }
        
        .section-header {
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            background-color: rgba(0,0,0,0.02);
        }
        
        .section-title {
            font-weight: 700;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .section-actions {
            display: flex;
            gap: 8px;
        }
        
        .info-button, .add-button {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
        }
        
        .info-button {
            background-color: rgba(59, 130, 246, 0.1);
            color: #3B82F6;
        }
        
        .add-button {
            background-color: rgba(16, 185, 129, 0.1);
            color: #10B981;
        }
        
        .info-button:active, .add-button:active {
            transform: scale(0.95);
        }
        
        .section-content {
            padding: 16px;
        }
        
        .section-info {
            background-color: #f8f9fa;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
            border-left: 4px solid #3B82F6;
            display: none;
        }
        
        .section-info.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-info h4 {
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        .section-info p {
            margin-bottom: 8px;
        }
        
        .section-info ul {
            padding-left: 20px;
            margin-bottom: 8px;
        }
        
        .note {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            position: relative;
            border-left: 4px solid #3B82F6;
        }
        
        .note-content {
            font-size: 14px;
            line-height: 1.4;
            word-break: break-word;
            padding-right: 24px;
        }
        
        .note-actions {
            position: absolute;
            top: 8px;
            right: 8px;
            display: flex;
            gap: 8px;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 20px;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            font-size: 14px;
            color: #444;
        }
        
        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            appearance: none;
            -webkit-appearance: none;
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .btn {
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s ease;
            border: none;
            min-height: 44px;
            min-width: 44px;
        }
        
        .btn-primary {
            background: #3B82F6;
            color: white;
        }
        
        .btn-secondary {
            background: #f3f4f6;
            color: #444;
        }
        
        .btn-danger {
            background: #EF4444;
            color: white;
        }
        
        .color-option {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
        }
        
        .color-option.selected {
            border-color: #3B82F6;
            transform: scale(1.1);
        }
        
        .color-options {
            display: flex;
            gap: 8px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            z-index: 40;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .toast.active {
            opacity: 1;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 24px;
            color: #9CA3AF;
            text-align: center;
        }
        
        .empty-state svg {
            width: 48px;
            height: 48px;
            margin-bottom: 12px;
            color: #D1D5DB;
        }
        
        /* Section colors */
        .key-partners { border-top: 4px solid #3B82F6; }
        .key-activities { border-top: 4px solid #F59E0B; }
        .key-resources { border-top: 4px solid #10B981; }
        .value-propositions { border-top: 4px solid #EC4899; }
        .customer-relationships { border-top: 4px solid #8B5CF6; }
        .channels { border-top: 4px solid #0EA5E9; }
        .customer-segments { border-top: 4px solid #EF4444; }
        .cost-structure { border-top: 4px solid #6B7280; }
        .revenue-streams { border-top: 4px solid #059669; }
        
        /* Note colors */
        .note-blue { border-left-color: #3B82F6; background-color: #EFF6FF; }
        .note-yellow { border-left-color: #F59E0B; background-color: #FFFBEB; }
        .note-green { border-left-color: #10B981; background-color: #ECFDF5; }
        .note-pink { border-left-color: #EC4899; background-color: #FCE7F3; }
        .note-purple { border-left-color: #8B5CF6; background-color: #EDE9FE; }
        .note-red { border-left-color: #EF4444; background-color: #FEF2F2; }
        
        /* Tablet optimizations */
        @media (min-width: 640px) {
            .header h1 {
                font-size: 24px;
            }
            
            .main-content {
                padding: 24px;
            }
            
            .section {
                margin-bottom: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Business Model Canvas</h1>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Key Partners -->
        <div class="section key-partners" data-section="key-partners">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                    Key Partners
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('key-partners-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('key-partners')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="key-partners-content">
                <div class="section-info" id="key-partners-info">
                    <h4>About Key Partners</h4>
                    <p>Key Partners are the external companies or suppliers that help your business model work.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>Who are your key partners and suppliers?</li>
                        <li>Which key resources are you acquiring from partners?</li>
                        <li>Which key activities do partners perform?</li>
                    </ul>
                    <p><strong>Example:</strong> Coffee bean suppliers, payment processors, real estate partners</p>
                </div>
                <div class="empty-state" id="key-partners-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                    <p>Tap + to add partners</p>
                </div>
            </div>
        </div>
        
        <!-- Key Activities -->
        <div class="section key-activities" data-section="key-activities">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M9.5 2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h3zm-3 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm4.5 2a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1h6zm-6 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1h-6zm7 2a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1h8zm-8 2a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1h-8z"/>
                    </svg>
                    Key Activities
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('key-activities-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('key-activities')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="key-activities-content">
                <div class="section-info" id="key-activities-info">
                    <h4>About Key Activities</h4>
                    <p>Key Activities are the most important things your company must do to make its business model work.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>What key activities does your value proposition require?</li>
                        <li>What activities are needed for distribution channels?</li>
                        <li>What activities are needed for customer relationships?</li>
                    </ul>
                    <p><strong>Example:</strong> Content production, platform development, data analytics</p>
                </div>
                <div class="empty-state" id="key-activities-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M9.5 2a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h3zm-3 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm4.5 2a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1h6zm-6 2a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1h-6zm7 2a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1h8zm-8 2a.5.5 0 0 0 0 1h8a.5.5 0 0 0 0-1h-8z"/>
                    </svg>
                    <p>Tap + to add activities</p>
                </div>
            </div>
        </div>
        
        <!-- Key Resources -->
        <div class="section key-resources" data-section="key-resources">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6z"/>
                    </svg>
                    Key Resources
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('key-resources-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('key-resources')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="key-resources-content">
                <div class="section-info" id="key-resources-info">
                    <h4>About Key Resources</h4>
                    <p>Key Resources describe the most important assets required to make a business model work.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>What key resources does your value proposition require?</li>
                        <li>What resources are needed for distribution channels?</li>
                        <li>What resources are needed for customer relationships?</li>
                    </ul>
                    <p><strong>Example:</strong> Intellectual property, manufacturing facilities, engineering talent</p>
                </div>
                <div class="empty-state" id="key-resources-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6z"/>
                    </svg>
                    <p>Tap + to add resources</p>
                </div>
            </div>
        </div>
        
        <!-- Value Propositions -->
        <div class="section value-propositions" data-section="value-propositions">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.79 5.093c.28-.196.608-.918.801-.88.193.038.39.57.39.884v3.805c0 .426-.24.815-.63.988-.39.173-.839.04-1.07-.254l-.014-.019c-.885-1.029-2.111-1.822-3.474-1.22-.5.212-1.544-.063-1.544-.44V4.993c0-.378.416-.585.918-.492 1.304.24 2.558-.06 3.307-1.14.318-.458.895-.492 1.248-.294.351.196.583.53.583.887v.116z"/>
                    </svg>
                    Value Propositions
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('value-propositions-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('value-propositions')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="value-propositions-content">
                <div class="section-info" id="value-propositions-info">
                    <h4>About Value Propositions</h4>
                    <p>Value Propositions describe the bundle of products and services that create value for a specific customer segment.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>What value do you deliver to the customer?</li>
                        <li>Which customer problems are you helping to solve?</li>
                        <li>Which customer needs are you satisfying?</li>
                    </ul>
                    <p><strong>Example:</strong> Premium design, ecosystem integration, privacy and security</p>
                </div>
                <div class="empty-state" id="value-propositions-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.79 5.093c.28-.196.608-.918.801-.88.193.038.39.57.39.884v3.805c0 .426-.24.815-.63.988-.39.173-.839.04-1.07-.254l-.014-.019c-.885-1.029-2.111-1.822-3.474-1.22-.5.212-1.544-.063-1.544-.44V4.993c0-.378.416-.585.918-.492 1.304.24 2.558-.06 3.307-1.14.318-.458.895-.492 1.248-.294.351.196.583.53.583.887v.116z"/>
                    </svg>
                    <p>Tap + to add value propositions</p>
                </div>
            </div>
        </div>
        
        <!-- Customer Relationships -->
        <div class="section customer-relationships" data-section="customer-relationships">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                    Customer Relationships
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('customer-relationships-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('customer-relationships')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="customer-relationships-content">
                <div class="section-info" id="customer-relationships-info">
                    <h4>About Customer Relationships</h4>
                    <p>Customer Relationships describe the types of relationships a company establishes with specific customer segments.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>What type of relationship does each customer segment expect?</li>
                        <li>Which ones have you established?</li>
                        <li>How costly are they?</li>
                    </ul>
                    <p><strong>Example:</strong> Self-service platform, personalized recommendations, membership programs</p>
                </div>
                <div class="empty-state" id="customer-relationships-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
                        <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
                    </svg>
                    <p>Tap + to add relationships</p>
                </div>
            </div>
        </div>
        
        <!-- Channels -->
        <div class="section channels" data-section="channels">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539c.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05c.362.184.763.349 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5h2.49zm1.4-2.741a12.344 12.344 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.612 13.612 0 0 1 7.5 10.91V8.5H4.51zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696c.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.963 6.963 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872A12.63 12.63 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008h2.49zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343a7.765 7.765 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"/>
                    </svg>
                    Channels
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('channels-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('channels')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="channels-content">
                <div class="section-info" id="channels-info">
                    <h4>About Channels</h4>
                    <p>Channels describe how a company communicates with and reaches its customer segments to deliver a value proposition.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>Through which channels do your customer segments want to be reached?</li>
                        <li>How are you reaching them now?</li>
                        <li>Which ones work best?</li>
                    </ul>
                    <p><strong>Example:</strong> Direct-to-consumer website, mobile app, retail stores, social media</p>
                </div>
                <div class="empty-state" id="channels-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539c.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05c.362.184.763.349 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5h2.49zm1.4-2.741a12.344 12.344 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.612 13.612 0 0 1 7.5 10.91V8.5H4.51zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696c.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.963 6.963 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872A12.63 12.63 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008h2.49zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343a7.765 7.765 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"/>
                    </svg>
                    <p>Tap + to add channels</p>
                </div>
            </div>
        </div>
        
        <!-- Customer Segments -->
        <div class="section customer-segments" data-section="customer-segments">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                    </svg>
                    Customer Segments
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('customer-segments-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('customer-segments')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="customer-segments-content">
                <div class="section-info" id="customer-segments-info">
                    <h4>About Customer Segments</h4>
                    <p>Customer Segments define the different groups of people or organizations an enterprise aims to reach and serve.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>For whom are you creating value?</li>
                        <li>Who are your most important customers?</li>
                        <li>What are the characteristics of your ideal customers?</li>
                    </ul>
                    <p><strong>Example:</strong> Free users, premium subscribers, family plan subscribers, students</p>
                </div>
                <div class="empty-state" id="customer-segments-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                    </svg>
                    <p>Tap + to add customer segments</p>
                </div>
            </div>
        </div>
        
        <!-- Cost Structure -->
        <div class="section cost-structure" data-section="cost-structure">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
                        <path d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"/>
                    </svg>
                    Cost Structure
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('cost-structure-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('cost-structure')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="cost-structure-content">
                <div class="section-info" id="cost-structure-info">
                    <h4>About Cost Structure</h4>
                    <p>Cost Structure describes all costs incurred to operate a business model.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>What are the most important costs in your business model?</li>
                        <li>Which key resources are most expensive?</li>
                        <li>Which key activities are most expensive?</li>
                    </ul>
                    <p><strong>Example:</strong> Technology platform development, marketing, customer service operations</p>
                </div>
                <div class="empty-state" id="cost-structure-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
                        <path d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"/>
                    </svg>
                    <p>Tap + to add costs</p>
                </div>
            </div>
        </div>
        
        <!-- Revenue Streams -->
        <div class="section revenue-streams" data-section="revenue-streams">
            <div class="section-header">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>
                    </svg>
                    Revenue Streams
                </div>
                <div class="section-actions">
                    <button class="info-button" onclick="toggleInfo('revenue-streams-info')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                        </svg>
                    </button>
                    <button class="add-button" onclick="openAddNoteModal('revenue-streams')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="section-content" id="revenue-streams-content">
                <div class="section-info" id="revenue-streams-info">
                    <h4>About Revenue Streams</h4>
                    <p>Revenue Streams represent the cash a company generates from each customer segment.</p>
                    <p><strong>Consider including:</strong></p>
                    <ul>
                        <li>For what value are your customers willing to pay?</li>
                        <li>For what do they currently pay?</li>
                        <li>How are they currently paying?</li>
                        <li>How would they prefer to pay?</li>
                    </ul>
                    <p><strong>Example:</strong> Subscriptions, licenses, usage fees, advertising revenue</p>
                </div>
                <div class="empty-state" id="revenue-streams-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>
                    </svg>
                    <p>Tap + to add revenue streams</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add/Edit Note Modal -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <h3 style="font-size: 18px; font-weight: bold; margin-bottom: 16px;" id="noteModalTitle">Add Note</h3>
            
            <div class="form-group">
                <label class="form-label" for="noteSection">Section</label>
                <select class="form-select" id="noteSection">
                    <option value="key-partners">Key Partners</option>
                    <option value="key-activities">Key Activities</option>
                    <option value="key-resources">Key Resources</option>
                    <option value="value-propositions">Value Propositions</option>
                    <option value="customer-relationships">Customer Relationships</option>
                    <option value="channels">Channels</option>
                    <option value="customer-segments">Customer Segments</option>
                    <option value="cost-structure">Cost Structure</option>
                    <option value="revenue-streams">Revenue Streams</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label" for="noteText">Note</label>
                <textarea class="form-textarea" id="noteText" placeholder="Enter your note here..."></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Color</label>
                <div class="color-options">
                    <div class="color-option selected" style="background-color: #EFF6FF;" data-color="blue"></div>
                    <div class="color-option" style="background-color: #FFFBEB;" data-color="yellow"></div>
                    <div class="color-option" style="background-color: #ECFDF5;" data-color="green"></div>
                    <div class="color-option" style="background-color: #FCE7F3;" data-color="pink"></div>
                    <div class="color-option" style="background-color: #EDE9FE;" data-color="purple"></div>
                    <div class="color-option" style="background-color: #FEF2F2;" data-color="red"></div>
                </div>
            </div>
            
            <div style="display: flex; justify-content: flex-end; gap: 8px; margin-top: 16px;">
                <button class="btn btn-secondary" id="cancelNoteBtn">Cancel</button>
                <button class="btn btn-primary" id="saveNoteBtn">Save</button>
            </div>
        </div>
    </div>
    
    <!-- Delete Note Confirmation Modal -->
    <div class="modal" id="deleteNoteModal">
        <div class="modal-content">
            <h3 style="font-size: 18px; font-weight: bold; margin-bottom: 8px; color: #EF4444;">Delete Note</h3>
            <p style="margin-bottom: 16px;">Are you sure you want to delete this note?</p>
            
            <div style="display: flex; justify-content: flex-end; gap: 8px;">
                <button class="btn btn-secondary" id="cancelDeleteBtn">Cancel</button>
                <button class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>
    
    <script>
        // Data structure for the canvas
        let canvasData = {
            notes: {}
        };
        
        // Current state variables
        let currentNoteId = null;
        let noteToDelete = null;
        let selectedColor = 'blue';
        let noteIdCounter = 0;
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from localStorage
            loadCanvas();
            
            // Set up event listeners
            setupEventListeners();
            
            // Add sample data if canvas is empty
            if (Object.keys(canvasData.notes).length === 0) {
                addSampleData();
            }
        });
        
        // Toggle info section visibility
        function toggleInfo(infoId) {
            const infoElement = document.getElementById(infoId);
            if (infoElement.classList.contains('active')) {
                infoElement.classList.remove('active');
            } else {
                // Hide all other info sections first
                document.querySelectorAll('.section-info').forEach(info => {
                    info.classList.remove('active');
                });
                // Show this info section
                infoElement.classList.add('active');
            }
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Cancel note button
            document.getElementById('cancelNoteBtn').addEventListener('click', closeNoteModal);
            
            // Save note button
            document.getElementById('saveNoteBtn').addEventListener('click', saveNote);
            
            // Color options
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    selectedColor = option.getAttribute('data-color');
                });
            });
            
            // Cancel delete button
            document.getElementById('cancelDeleteBtn').addEventListener('click', closeDeleteNoteModal);
            
            // Confirm delete button
            document.getElementById('confirmDeleteBtn').addEventListener('click', deleteNote);
        }
        
        // Open add note modal with pre-selected section
        function openAddNoteModal(section = null) {
            document.getElementById('noteModalTitle').textContent = 'Add Note';
            document.getElementById('noteText').value = '';
            
            // Pre-select the section if provided
            if (section) {
                document.getElementById('noteSection').value = section;
            }
            
            document.getElementById('noteModal').classList.add('active');
            currentNoteId = null;
            
            // Focus on textarea
            setTimeout(() => {
                document.getElementById('noteText').focus();
            }, 300);
        }
        
        // Open edit note modal
        function openEditNoteModal(noteId) {
            const note = findNoteById(noteId);
            if (note) {
                document.getElementById('noteModalTitle').textContent = 'Edit Note';
                document.getElementById('noteText').value = note.text;
                document.getElementById('noteSection').value = note.section;
                
                // Select the correct color
                document.querySelectorAll('.color-option').forEach(option => {
                    if (option.getAttribute('data-color') === note.color) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                });
                selectedColor = note.color;
                
                document.getElementById('noteModal').classList.add('active');
                currentNoteId = noteId;
                
                // Focus on textarea
                setTimeout(() => {
                    document.getElementById('noteText').focus();
                }, 300);
            }
        }
        
        // Close note modal
        function closeNoteModal() {
            document.getElementById('noteModal').classList.remove('active');
        }
        
        // Save note
        function saveNote() {
            const text = document.getElementById('noteText').value.trim();
            const section = document.getElementById('noteSection').value;
            
            if (!text) {
                showToast('Please enter some text');
                return;
            }
            
            if (currentNoteId) {
                // Edit existing note
                const note = findNoteById(currentNoteId);
                if (note) {
                    const oldSection = note.section;
                    
                    // Update note data
                    note.text = text;
                    note.color = selectedColor;
                    note.section = section;
                    
                    // If section changed, move the note
                    if (oldSection !== section) {
                        // Remove from old section
                        canvasData.notes[oldSection] = canvasData.notes[oldSection].filter(n => n.id !== currentNoteId);
                        
                        // Add to new section
                        if (!canvasData.notes[section]) {
                            canvasData.notes[section] = [];
                        }
                        canvasData.notes[section].push(note);
                        
                        // Remove from DOM
                        const noteElement = document.getElementById(currentNoteId);
                        if (noteElement) {
                            noteElement.remove();
                        }
                        
                        // Add to new section in DOM
                        addNoteToDOM(note);
                        
                        // Update empty states
                        updateEmptyState(oldSection);
                        updateEmptyState(section);
                    } else {
                        // Just update the DOM
                        const noteElement = document.getElementById(currentNoteId);
                        if (noteElement) {
                            noteElement.querySelector('.note-content').textContent = text;
                            updateNoteColor(noteElement, selectedColor);
                        }
                    }
                    
                    showToast('Note updated');
                }
            } else {
                // Add new note
                const noteId = 'note-' + (++noteIdCounter);
                const note = {
                    id: noteId,
                    section: section,
                    text: text,
                    color: selectedColor
                };
                
                // Add to data structure
                if (!canvasData.notes[section]) {
                    canvasData.notes[section] = [];
                }
                canvasData.notes[section].push(note);
                
                // Add to DOM
                addNoteToDOM(note);
                
                // Hide empty state if needed
                updateEmptyState(section);
                
                showToast('Note added');
            }
            
            // Save to localStorage
            saveCanvas();
            
            // Close modal
            closeNoteModal();
        }
        
        // Add note to DOM
        function addNoteToDOM(note) {
            const noteElement = document.createElement('div');
            noteElement.id = note.id;
            noteElement.className = `note note-${note.color}`;
            noteElement.innerHTML = `
                <div class="note-content">${note.text}</div>
                <div class="note-actions">
                    <button class="edit-note-btn" onclick="openEditNoteModal('${note.id}')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                        </svg>
                    </button>
                    <button class="delete-note-btn" onclick="openDeleteNoteModal('${note.id}')">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                            <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                        </svg>
                    </button>
                </div>
            `;
            
            // Add to the section content
            document.getElementById(`${note.section}-content`).appendChild(noteElement);
            
            // Make the note tappable for editing (for mobile)
            noteElement.addEventListener('click', function(e) {
                // Only trigger if not clicking on a button
                if (!e.target.closest('button')) {
                    openEditNoteModal(note.id);
                }
            });
        }
        
        // Update note color
        function updateNoteColor(noteElement, color) {
            // Remove all color classes
            noteElement.classList.remove('note-blue', 'note-yellow', 'note-green', 'note-pink', 'note-purple', 'note-red');
            // Add the selected color class
            noteElement.classList.add(`note-${color}`);
        }
        
        // Find note by ID
        function findNoteById(noteId) {
            for (const section in canvasData.notes) {
                const note = canvasData.notes[section].find(n => n.id === noteId);
                if (note) return note;
            }
            return null;
        }
        
        // Open delete note modal
        function openDeleteNoteModal(noteId) {
            noteToDelete = noteId;
            document.getElementById('deleteNoteModal').classList.add('active');
            
            // Stop event propagation
            event.stopPropagation();
        }
        
        // Close delete note modal
        function closeDeleteNoteModal() {
            document.getElementById('deleteNoteModal').classList.remove('active');
            noteToDelete = null;
        }
        
        // Delete note
        function deleteNote() {
            if (noteToDelete) {
                const note = findNoteById(noteToDelete);
                if (note) {
                    // Remove from data structure
                    const section = note.section;
                    canvasData.notes[section] = canvasData.notes[section].filter(n => n.id !== noteToDelete);
                    
                    // Remove from DOM
                    const noteElement = document.getElementById(noteToDelete);
                    if (noteElement) {
                        noteElement.remove();
                    }
                    
                    // Update empty state
                    updateEmptyState(section);
                    
                    // Save to localStorage
                    saveCanvas();
                    
                    showToast('Note deleted');
                }
            }
            
            closeDeleteNoteModal();
        }
        
        // Update empty state for a section
        function updateEmptyState(section) {
            const emptyState = document.getElementById(`${section}-empty`);
            if (!canvasData.notes[section] || canvasData.notes[section].length === 0) {
                emptyState.style.display = 'flex';
            } else {
                emptyState.style.display = 'none';
            }
        }
        
        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('active');
            
            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }
        
        // Save canvas to localStorage
        function saveCanvas() {
            try {
                localStorage.setItem('businessModelCanvas', JSON.stringify(canvasData));
            } catch (e) {
                console.error('Error saving canvas:', e);
                showToast('Error saving canvas');
            }
        }
        
        // Load canvas from localStorage
        function loadCanvas() {
            try {
                const savedData = localStorage.getItem('businessModelCanvas');
                if (savedData) {
                    canvasData = JSON.parse(savedData);
                    
                    // Find the highest note ID
                    let maxId = 0;
                    for (const section in canvasData.notes) {
                        canvasData.notes[section].forEach(note => {
                            const idNum = parseInt(note.id.replace('note-', ''));
                            if (idNum > maxId) maxId = idNum;
                        });
                    }
                    noteIdCounter = maxId;
                    
                    // Render all notes
                    for (const section in canvasData.notes) {
                        if (canvasData.notes[section].length > 0) {
                            // Hide empty state
                            document.getElementById(`${section}-empty`).style.display = 'none';
                            
                            // Add notes to DOM
                            canvasData.notes[section].forEach(note => {
                                addNoteToDOM(note);
                            });
                        }
                    }
                }
            } catch (e) {
                console.error('Error loading canvas:', e);
                showToast('Error loading canvas');
            }
        }
        
        // Add sample data
        function addSampleData() {
            const sampleData = {
                'key-partners': [
                    { id: 'note-1', section: 'key-partners', text: 'Suppliers for raw materials', color: 'blue' },
                    { id: 'note-2', section: 'key-partners', text: 'Manufacturing partners', color: 'yellow' }
                ],
                'key-activities': [
                    { id: 'note-3', section: 'key-activities', text: 'Product development', color: 'green' },
                    { id: 'note-4', section: 'key-activities', text: 'Marketing and sales', color: 'blue' }
                ],
                'value-propositions': [
                    { id: 'note-5', section: 'value-propositions', text: 'High-quality products at affordable prices', color: 'pink' },
                    { id: 'note-6', section: 'value-propositions', text: 'Excellent customer service', color: 'purple' }
                ],
                'customer-segments': [
                    { id: 'note-7', section: 'customer-segments', text: 'Young professionals', color: 'red' },
                    { id: 'note-8', section: 'customer-segments', text: 'Small businesses', color: 'green' }
                ]
            };
            
            // Add sample data to canvas data
            canvasData.notes = sampleData;
            
            // Set note counter
            noteIdCounter = 8;
            
            // Render sample notes
            for (const section in sampleData) {
                // Hide empty state
                document.getElementById(`${section}-empty`).style.display = 'none';
                
                // Add notes to DOM
                sampleData[section].forEach(note => {
                    addNoteToDOM(note);
                });
            }
            
            // Save to localStorage
            saveCanvas();
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95d7ecfb21b92917',t:'MTc1MjIzMjk3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
